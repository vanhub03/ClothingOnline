@using ClothingOnlineWeb.Models
@using Microsoft.AspNetCore.Http
@using Newtonsoft.Json;
@inject IHttpContextAccessor HttpContextAccessor

@{
    var session = HttpContextAccessor.HttpContext.Session;
    string jsonacc = session.GetString("accountSession"); }
    <!DOCTYPE html>
    <html>
    <head>
        <title></title>
        <!--bootstrap-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    </head>

    <body class="container">
        <div class="main">
        <header>
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <div class="container-fluid">
                    <span class="navbar-brand ">Logo</span>
                    <button class="navbar-toggler" type="button" dat a-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                            <li class="nav-item">
                                <a class="nav-link active" aria-current="page" asp-controller="Product" asp-action="listProduct">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/product/gethotproduct">Xu Hướng</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/product/getnewestproduct">Hàng mới về</a>
                            </li>

                            @await Html.PartialAsync("_CategoryPartial")
                            @await Html.PartialAsync("_CartPartial")

                        </ul>
                        <form class="d-flex" asp-controller="product" asp-action="Search" method="post">
                            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" id="searchWord" name="keyWord">
                            <button class="btn btn-outline-success" type="submit">Search</button>
                            </form>
                            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                                @{
                                    if (jsonacc != null)
                                    {
                                        var account = JsonConvert.DeserializeObject<Account>(jsonacc);
                                        <li class="nav-item dropdown">
                                            <span class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                                @account.Username
                                            </span>
                                            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                                                <li><a class="dropdown-item" asp-controller="Account" asp-action="Logout">Đăng xuất</a></li>
                                                <li><a class="dropdown-item" href="/order/ViewOrderByAccountId?id=@account.Userid">Xem hóa đơn</a></li>
                                                <li><a class="dropdown-item" href="/account/updateaccount?id=@account.Userid">Đổi thông tin</a></li>
                                            </ul>
                                        </li>
                                    }
                                    else
                                    {
                                        <li class="nav-item">
                                            <a class="nav-link" asp-controller="Account" asp-action="Login">Đăng nhập</a>
                                        </li>
                                    }
                                }
                            }
                        </ul>

                    </div>
                </div>
            </nav>
        </header>
        <main>
            @RenderBody()
        </main>
        </div>
        <footer id="footer" class="text-center text-lg-start bg-light text-muted" style="background-color: rgba(0, 0, 0, 0.05);">
            <div>
                <h6 class="text-uppercase fw-bold mb-4 text-center">
                    Contact
                </h6>
            </div>
            <div class="row text-center">
                <div class="col-3">
                    <p>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house-fill" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z" />
                            <path fill-rule="evenodd" d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z" />
                        </svg>
                        Đại học FPT
                    </p>
                </div>
                <div class="col-3">
                    <p>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-google" viewBox="0 0 16 16">
                            <path d="M15.545 6.558a9.42 9.42 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.689 7.689 0 0 1 5.352 2.082l-2.284 2.284A4.347 4.347 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.792 4.792 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.702 3.702 0 0 0 1.599-2.431H8v-3.08h7.545z" />
                        </svg>
                        daihocfpt@fpt.edu.vn
                    </p>
                </div>
                <div class="col-3">
                    <p>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-telephone-fill" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z" />
                        </svg>
                        024 7300 1866
                    </p>
                </div>
                <div class="col-3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-facebook" viewBox="0 0 16 16">
                        <path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z" />
                    </svg>
                    <a href="https://www.facebook.com/DaihocFPTHaNoi">Đại học FPT Hà Nội</a>
                </div>
            </div>
            <div class="text-center p-4">
                © 2021 Copyright:
                <span class="text-reset fw-bold">PRN211</span>
            </div>
        </footer>

        <style type="text/css">
            html {
                height: 100%;
            }

            body {
                display: table;
                width: 100%;
                height: 100%;
            }

            .main {
                display: table-row;
                height: 100%;
            }

            #footer {
                padding: 1rem;
            }
        </style>
    </body>
</html>
